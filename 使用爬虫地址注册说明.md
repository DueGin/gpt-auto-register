# ä½¿ç”¨çˆ¬è™«åœ°å€è¿›è¡Œè‡ªåŠ¨æ³¨å†Œ

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ 1ï¼šç›´æ¥å¯åŠ¨æ³¨å†ŒæœåŠ¡ï¼ˆæ¨èå¿«é€Ÿï¼‰

```bash
python3 start_with_scraper.py --server
```

æˆ–ä½¿ç”¨å¿«é€Ÿå¯åŠ¨è„šæœ¬ï¼š
```bash
bash run.sh
# é€‰æ‹© 1
```

**è¯´æ˜ï¼š** ä½¿ç”¨å·²é‡‡é›†çš„åœ°å€åº“è¿›è¡Œæ³¨å†Œã€‚

---

### æ–¹å¼ 2ï¼šå…ˆé‡‡é›†åœ°å€å†å¯åŠ¨

```bash
# é‡‡é›† 10 ä¸ªåœ°å€
python3 start_with_scraper.py --scrape 10

# æˆ–é‡‡é›† 50 ä¸ªåœ°å€
python3 start_with_scraper.py --scrape 50
```

**è¯´æ˜ï¼š** è„šæœ¬ä¼šï¼š
1. è¿è¡Œçˆ¬è™«é‡‡é›†æŒ‡å®šæ•°é‡çš„ç¾å›½åœ°å€
2. æ£€æŸ¥é‡‡é›†ç»“æœ
3. è‡ªåŠ¨å¯åŠ¨æ³¨å†ŒæœåŠ¡

---

### æ–¹å¼ 3ï¼šä½¿ç”¨äº¤äº’å¼èœå•

```bash
bash run.sh
```

æŒ‰æç¤ºé€‰æ‹©æ¨¡å¼è¿è¡Œã€‚

---

## åœ°å€æ¥æºé…ç½®

### å½“å‰é…ç½®

ç¼–è¾‘ `config.yaml`ï¼š

```yaml
payment:
  billing:
    # åœ°å€ç”Ÿæˆæ¥æº: "local" æœ¬åœ°Fakeréšæœº; "meiguodizhi" è¿œç¨‹API; "scraped" ä½¿ç”¨çˆ¬è™«æ–‡ä»¶
    address_source: "scraped"
```

### æ”¯æŒçš„ä¸‰ç§æ¨¡å¼

| æ¨¡å¼ | è¯´æ˜ | é…ç½®å€¼ |
|------|------|--------|
| **scraped** | ä½¿ç”¨çˆ¬è™«é‡‡é›†çš„åœ°å€ï¼Œç”¨è¿‡è‡ªåŠ¨åˆ é™¤ | `"scraped"` |
| **local** | æœ¬åœ° Faker éšæœºç”Ÿæˆåœ°å€ | `"local"` |
| **meiguodizhi** | ä» meiguodizhi.com API è·å–ï¼ˆéœ€APIæ­£å¸¸ï¼‰ | `"meiguodizhi"` |

---

## çˆ¬è™«æ–‡ä»¶è¯´æ˜

çˆ¬è™«ä»£ç ä½ç½®ï¼š`ç¾å›½åœ°å€çˆ¬è™«_å‰¯æœ¬/`

### ä¸»è¦æ–‡ä»¶

- `address_scraper.py` - æ ¸å¿ƒçˆ¬è™«ç±»
- `basic_fields_scraper.py` - ç®€åŒ–ç‰ˆçˆ¬è™«ï¼ˆæ¨èï¼‰
- `basic_addresses_*.json` - é‡‡é›†çš„åœ°å€åº“ï¼ˆæŒ‰æ—¶é—´æˆ³å‘½åï¼‰

### é‡‡é›†çš„å­—æ®µ

```json
{
  "å…¨å": "John Doe",
  "è¡—é“": "123 Main St",
  "åŸå¸‚": "New York",
  "å·å…¨ç§°": "New York",
  "é‚®ç¼–": "10001"
}
```

---

## åœ°å€ä½¿ç”¨æµç¨‹

### æ¶ˆè€—æµç¨‹

1. **é‡‡é›†** â†’ `ç¾å›½åœ°å€çˆ¬è™«_å‰¯æœ¬/basic_addresses_*.json`
2. **è¯»å–** â†’ æ³¨å†Œæ—¶ä»æ–‡ä»¶å¤´éƒ¨å–å‡ºç¬¬ä¸€æ¡åœ°å€
3. **åˆ é™¤** â†’ ä½¿ç”¨è¿‡çš„åœ°å€è‡ªåŠ¨ä» JSON æ–‡ä»¶ä¸­åˆ é™¤
4. **æ¸…ç†** â†’ å½“æ–‡ä»¶ä¸ºç©ºæ—¶ï¼Œè‡ªåŠ¨åˆ é™¤ç©ºæ–‡ä»¶

### ç¤ºä¾‹

åˆå§‹æ–‡ä»¶ï¼š
```json
[
  { "å…¨å": "Address 1", ... },
  { "å…¨å": "Address 2", ... },
  { "å…¨å": "Address 3", ... }
]
```

ç¬¬ä¸€æ¬¡æ³¨å†Œä½¿ç”¨ Address 1 åï¼š
```json
[
  { "å…¨å": "Address 2", ... },
  { "å…¨å": "Address 3", ... }
]
```

å…¨éƒ¨ç”¨å®Œåæ–‡ä»¶è¢«è‡ªåŠ¨åˆ é™¤ã€‚

---

## æ³¨å†ŒæœåŠ¡åœ°å€

å¯åŠ¨åè®¿é—®ï¼š

```
http://localhost:7070
```

### Web ç•Œé¢åŠŸèƒ½

- ğŸ“º å®æ—¶å±å¹•æˆªå›¾æµï¼ˆMJPEGï¼‰
- ğŸ“Š æ³¨å†Œç»Ÿè®¡ï¼ˆæˆåŠŸ/å¤±è´¥æ•°ï¼‰
- ğŸ“‹ è´¦å·åº“å­˜æŸ¥çœ‹
- ğŸš€ æ‰¹é‡æ³¨å†Œæ§åˆ¶
- ğŸ›‘ éšæ—¶åœæ­¢ä»»åŠ¡

---

## å¸¸è§æ“ä½œ

### æ£€æŸ¥åœ°å€åº“å­˜

```bash
python3 start_with_scraper.py --check
```

è¾“å‡ºï¼š
```
ğŸ“‹ å·²é‡‡é›†çš„åœ°å€ä¿¡æ¯:
------------------------------------------------------------
  ğŸ“„ basic_addresses_20260121-110405.json: 10 ä¸ªåœ°å€
------------------------------------------------------------
æ€»è®¡: 10 ä¸ªåœ°å€
```

### æŸ¥çœ‹æ³¨å†Œç»“æœ

```bash
# æ³¨å†ŒæˆåŠŸçš„è´¦å·
cat registered_accounts.txt
```

### åˆ‡æ¢ä¸ºæœ¬åœ°éšæœºåœ°å€

ç¼–è¾‘ `config.yaml`ï¼š
```yaml
payment:
  billing:
    address_source: "local"  # æ”¹ä¸º local
```

é‡å¯æœåŠ¡å³ç”Ÿæ•ˆã€‚

---

## æ•…éšœæ’æŸ¥

### Q: æç¤ºåœ°å€åº“ä¸ºç©º

**A:** è¿è¡Œçˆ¬è™«é‡‡é›†åœ°å€ï¼š
```bash
python3 start_with_scraper.py --scrape 20
```

### Q: çˆ¬è™«é‡‡é›†å¤±è´¥

**A:** æ£€æŸ¥ï¼š
1. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
2. çˆ¬è™«ç›®å½•æ˜¯å¦å­˜åœ¨
3. `address_scraper.py` æ˜¯å¦å®Œæ•´

### Q: æ³¨å†Œæ—¶åœ°å€ä¸å˜

**A:** æ£€æŸ¥ `config.yaml` ä¸­ `address_source` æ˜¯å¦ä¸º `"scraped"`

### Q: å·²é‡‡é›†çš„åœ°å€æ¶ˆå¤±äº†

**A:** è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œè¯´æ˜åœ°å€å·²è¢«ä½¿ç”¨ä¸”è‡ªåŠ¨åˆ é™¤äº†ã€‚éœ€è¦é‡æ–°é‡‡é›†ï¼š
```bash
python3 start_with_scraper.py --scrape 20
```

---

## å®Œæ•´å·¥ä½œæµç¤ºä¾‹

```bash
# 1. æ£€æŸ¥ç°æœ‰åœ°å€
python3 start_with_scraper.py --check

# 2. ä¸è¶³åˆ™é‡‡é›†æ–°åœ°å€ï¼ˆé‡‡é›†50ä¸ªï¼‰
python3 start_with_scraper.py --scrape 50

# 3. å¯åŠ¨æ³¨å†ŒæœåŠ¡
python3 start_with_scraper.py --server

# 4. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:7070

# 5. ç‚¹å‡»"å¼€å§‹æ³¨å†Œ"ï¼Œè¾“å…¥æ•°é‡ï¼ˆæ¯”å¦‚ 10 ä¸ªï¼‰

# 6. è§‚çœ‹è‡ªåŠ¨æ³¨å†Œè¿‡ç¨‹ï¼Œå·²é‡‡é›†çš„åœ°å€ä¼šè¢«é€ä¸ªæ¶ˆè€—

# 7. æ³¨å†Œå®ŒæˆåæŸ¥çœ‹æˆæœ
cat registered_accounts.txt
```

---

## é…ç½®ä¼˜åŒ–

### æé«˜çˆ¬è™«é‡‡é›†é€Ÿåº¦

åœ¨çˆ¬è™«è„šæœ¬ä¸­è°ƒæ•´ `delay` å‚æ•°ï¼ˆå•ä½ç§’ï¼‰ï¼š

```python
# åœ¨ start_with_scraper.py ä¸­æ‰¾åˆ°
run_scraper(count=args.scrape, delay=1)  # æ”¹å°è¿™ä¸ªå€¼
```

### æ³¨å†Œé—´éš”é…ç½®

ç¼–è¾‘ `config.yaml`ï¼š

```yaml
batch:
  interval_min: 3  # æœ€å°é—´éš” 3 ç§’
  interval_max: 8  # æœ€å¤§é—´éš” 8 ç§’
```

---

## è®¸å¯è¯

ä»…ä¾›å­¦ä¹ å’Œæµ‹è¯•ä½¿ç”¨ã€‚
